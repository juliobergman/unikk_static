<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    viewBox="0 0 508 311.63"
  >
    <defs>
      <linearGradient
        id="linear-gradient"
        x1="548.24"
        y1="368.76"
        x2="-42.06"
        y2="288.59"
        gradientUnits="userSpaceOnUse"
      >
        <stop offset="0" stop-color="#ddd" />
        <stop offset="1" stop-color="#fff" />
      </linearGradient>
      <linearGradient
        id="linear-gradient-2"
        x1="548.8"
        y1="364.58"
        x2="-41.49"
        y2="284.41"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-3"
        x1="549.27"
        y1="361.16"
        x2="-41.03"
        y2="280.99"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-4"
        x1="549.72"
        y1="357.84"
        x2="-40.58"
        y2="277.67"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-5"
        x1="550.35"
        y1="353.2"
        x2="-39.95"
        y2="273.03"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-6"
        x1="551.38"
        y1="345.64"
        x2="-38.92"
        y2="265.47"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-7"
        x1="551.89"
        y1="341.87"
        x2="-38.41"
        y2="261.7"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-8"
        x1="552.47"
        y1="337.55"
        x2="-37.82"
        y2="257.38"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-9"
        x1="553.18"
        y1="332.37"
        x2="-37.12"
        y2="252.2"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-10"
        x1="553.78"
        y1="327.93"
        x2="-36.52"
        y2="247.76"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-11"
        x1="554.23"
        y1="324.62"
        x2="-36.07"
        y2="244.45"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-12"
        x1="554.88"
        y1="319.83"
        x2="-35.42"
        y2="239.66"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-13"
        x1="555.43"
        y1="315.82"
        x2="-34.87"
        y2="235.65"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-14"
        x1="556.21"
        y1="310.02"
        x2="-34.08"
        y2="229.85"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-15"
        x1="556.99"
        y1="304.33"
        x2="-33.31"
        y2="224.16"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-16"
        x1="512.95"
        y1="211.96"
        x2="-33.94"
        y2="-62.77"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-17"
        x1="516.03"
        y1="205.82"
        x2="-30.86"
        y2="-68.9"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-18"
        x1="518.5"
        y1="200.92"
        x2="-28.4"
        y2="-73.8"
        xlink:href="#linear-gradient"
      />
      <linearGradient
        id="linear-gradient-19"
        x1="520.96"
        y1="196.01"
        x2="-25.93"
        y2="-78.71"
        xlink:href="#linear-gradient"
      />
    </defs>
    <g id="text">
      <path
        class="cls-1"
        d="M0,281.64H5v17.67q0,4.41,1.65,6.37t5.24,2c2.38,0,4.1-.71,5.18-2.13a9.11,9.11,0,0,0,1.62-5.65V281.64h5v18q0,6.14-3.07,9.06c-2,2-5,2.93-8.74,2.93s-6.63-1-8.74-2.93S0,303.65,0,299.4Z"
      />
      <path
        class="cls-2"
        d="M34.65,281.64H39.1l12.37,17.67c.56.81,1.09,1.62,1.59,2.44s.92,1.54,1.27,2.2h.09c-.16-2.31-.23-4.62-.23-6.91v-15.4H59v29.52H54.56l-12-17.1c-.6-.84-1.17-1.76-1.74-2.74s-1-1.87-1.45-2.65h-.09q.23,3.66.23,7.24v15.25H34.65Z"
      />
      <path class="cls-3" d="M75,281.64v29.52H70V281.64Z" />
      <path
        class="cls-4"
        d="M85.89,311.16V281.64h5v13l11.66-13h6.24L97,294.67l12.74,16.49h-6.27L93.39,298l-2.48,2.67v10.54Z"
      />
      <path
        class="cls-5"
        d="M120.68,311.16V281.64h5v13l11.67-13h6.23l-11.81,13,12.75,16.49h-6.28L128.17,298l-2.48,2.67v10.54Z"
      />
      <path
        class="cls-6"
        d="M174.81,281.64l5.72,16.17c.19.53.4,1.12.63,1.78s.48,1.34.73,2,.49,1.4.73,2.11l.63,1.94h.09c.16-.59.35-1.22.57-1.9s.43-1.35.65-2,.44-1.35.66-2,.42-1.17.61-1.64l6-16.5H197l-11.25,29.52h-5.11l-11.15-29.52Z"
      />
      <path
        class="cls-7"
        d="M208,281.64h18.28v4H213v8.16H225v4H213v9.32h13.41v4H208Z"
      />
      <path
        class="cls-8"
        d="M237.31,281.64h4.45l12.37,17.67c.56.81,1.09,1.62,1.6,2.44s.92,1.54,1.26,2.2h.09c-.15-2.31-.23-4.62-.23-6.91v-15.4h4.83v29.52h-4.46l-12-17.1c-.59-.84-1.17-1.76-1.73-2.74s-1-1.87-1.45-2.65h-.1q.24,3.66.24,7.24v15.25h-4.83Z"
      />
      <path
        class="cls-9"
        d="M295.29,281.64v4.13h-8.9v25.39h-5V285.77h-8.76v-4.13Z"
      />
      <path
        class="cls-10"
        d="M306.22,281.64h5v17.67q0,4.41,1.64,6.37t5.25,2c2.37,0,4.1-.71,5.17-2.13a9.11,9.11,0,0,0,1.62-5.65V281.64h5v18q0,6.14-3.07,9.06c-2.05,2-5,2.93-8.74,2.93s-6.63-1-8.74-2.93-3.17-5.05-3.17-9.3Z"
      />
      <path
        class="cls-11"
        d="M340.87,281.64H351a11.74,11.74,0,0,1,4.14.68,8.65,8.65,0,0,1,3,1.88A7.54,7.54,0,0,1,360,287a10.08,10.08,0,0,1,.61,3.56,8.29,8.29,0,0,1-1.92,5.46,9.5,9.5,0,0,1-1.9,1.74,10.5,10.5,0,0,1-2.13,1.14l7.59,12.23h-5.67l-6.51-11.33h-4.36v11.33h-4.87Zm4.87,14.2h3.19a11,11,0,0,0,2.58-.28,6.19,6.19,0,0,0,2.06-.89A4.18,4.18,0,0,0,355,293.1a5,5,0,0,0,.49-2.32,4.87,4.87,0,0,0-1.5-3.91,6.41,6.41,0,0,0-4.31-1.29h-3.89Z"
      />
      <path
        class="cls-12"
        d="M373.22,281.64h18.27v4H378.23v8.16h12v4h-12v9.32h13.4v4H373.22Z"
      />
      <path
        class="cls-13"
        d="M412.83,281.17a18.76,18.76,0,0,1,8.43,1.79l-1.17,4a20.35,20.35,0,0,0-3.63-1.38,12.81,12.81,0,0,0-3.35-.45,6.51,6.51,0,0,0-4,1.08,3.53,3.53,0,0,0-1.46,3,3.38,3.38,0,0,0,1.13,2.67,10.54,10.54,0,0,0,3.65,1.78l2.91.94A11.57,11.57,0,0,1,421,298a7.74,7.74,0,0,1,1.78,5,8.2,8.2,0,0,1-.75,3.52,7.69,7.69,0,0,1-2.13,2.71,10.16,10.16,0,0,1-3.35,1.76,14.22,14.22,0,0,1-4.36.63,26.16,26.16,0,0,1-4.75-.44,19.1,19.1,0,0,1-4.62-1.52l1.17-3.94a20.08,20.08,0,0,0,3.94,1.47,16.06,16.06,0,0,0,4,.5,7.18,7.18,0,0,0,4.12-1.08,3.61,3.61,0,0,0,1.6-3.19,3.77,3.77,0,0,0-1.11-2.67,10.56,10.56,0,0,0-4.28-2.2l-2.77-.89a13.14,13.14,0,0,1-5.08-2.88,6.7,6.7,0,0,1-1.85-5,7.94,7.94,0,0,1,2.62-6.23C406.94,282,409.49,281.17,412.83,281.17Z"
      />
      <path
        class="cls-14"
        d="M459.38,281.64h4.78l11.48,29.52h-5.25l-2.95-7.73H455.86l-2.9,7.73h-5.21Zm-2.25,17.95h8.95l-1.74-4.78c-.53-1.31-1-2.54-1.38-3.68s-.8-2.44-1.24-3.91h-.1c-.46,1.38-.9,2.65-1.31,3.82s-.87,2.44-1.4,3.82Z"
      />
      <path
        class="cls-15"
        d="M498.3,281.17a19.1,19.1,0,0,1,8.62,1.74l-1.12,3.7a16.13,16.13,0,0,0-3.4-1.17,16.48,16.48,0,0,0-3.54-.38,12.08,12.08,0,0,0-3.82.61,8.38,8.38,0,0,0-3.18,2,9.77,9.77,0,0,0-2.21,3.52,15.09,15.09,0,0,0-.81,5.29c0,3.66.82,6.44,2.48,8.36a8.75,8.75,0,0,0,7,2.89,19.57,19.57,0,0,0,2.74-.17,11,11,0,0,0,2.18-.54v-7.78h-5.35v-3.84H508v14.48a27.78,27.78,0,0,1-4.22,1.27,26,26,0,0,1-5.48.51,17.08,17.08,0,0,1-5.81-1,13.18,13.18,0,0,1-7.9-7.66,17.43,17.43,0,0,1-1.14-6.54,17.83,17.83,0,0,1,1.12-6.56,13.49,13.49,0,0,1,3.12-4.8,12.72,12.72,0,0,1,4.71-2.93A17.11,17.11,0,0,1,498.3,281.17Z"
      />
    </g>
    <g id="t4" ref="reft4">
      <polygon
        class="cls-16"
        points="229.63 169.94 254 218.68 363.34 0 314.61 0 229.63 169.94"
        @mouseenter.prevent="animateElement('t4')"
      />
    </g>
    <g id="t3" ref="reft3">
      <polygon
        class="cls-17"
        points="264.76 0 204.71 120.1 222.85 156.37 301.04 0 264.76 0"
        @mouseenter.prevent="animateElement('t3')"
      />
    </g>
    <g id="t2" ref="reft2">
      <polygon
        class="cls-18"
        points="214.91 0 179.79 70.25 197.93 106.53 251.19 0 214.91 0"
        @mouseenter.prevent="animateElement('t2')"
      />
    </g>
    <g id="t1" ref="reft1">
      <polygon
        class="cls-19"
        points="144.66 0 173 56.68 201.34 0 144.66 0"
        @mouseenter.prevent="animateElement('t1')"
      />
    </g>
  </svg>
</template>

<script>
export default {
  data: () => ({
    betweenDelay: '+=0',
    stDuration: 0.3,
    tl: null,
    elAnimate: {
      t4: false,
      t3: false,
      t2: false,
      t1: false,
    },
    eltransformOrigin: {
      t4: 'center center',
      t3: 'center center',
      t2: 'center center',
      t1: 'center center',
    },
  }),
  mounted() {
    this.tl = this.gsap.timeline()
    const stepDuration = this.stDuration
    const inBetweenDelay = this.betweenDelay

    // this.gsap.set('#t4', { rotationY: 0 })

    this.tl
      .from('#t4', {
        autoAlpha: 0,
        scale: 0,
        transformOrigin: 'center right',
        y: -20,
        duration: stepDuration,
      })
      .from(
        '#t3',
        {
          autoAlpha: 0,
          scale: 0,
          transformOrigin: 'center center',
          y: -20,
          duration: stepDuration,
        },
        inBetweenDelay
      )
      .from(
        '#t2',
        {
          autoAlpha: 0,
          scale: 0,
          transformOrigin: 'center center',
          y: -20,
          duration: stepDuration,
        },
        inBetweenDelay
      )
      .from(
        '#t1',
        {
          autoAlpha: 0,
          scale: 0,
          transformOrigin: 'center left',
          y: -20,
          duration: stepDuration,
          onComplete: this.completeState,
        },
        inBetweenDelay
      )
      .from(
        '#text',
        {
          autoAlpha: 0,
          // scale: 0,
          // transformOrigin: 'bottom center',
          // y: 50,
          duration: 1.5,
        },
        '+=1'
      )
  },
  methods: {
    animateElement(e) {
      if (this.elAnimate[e]) {
        this.gsap.fromTo(
          '#' + e,
          {
            autoAlpha: 0,
            scaleX: -0.5,
            scaleY: 0.5,
            transformOrigin: this.eltransformOrigin[e],
          },
          {
            autoAlpha: 1,
            scaleX: 1,
            scaleY: 1,
            y: 0,
            duration: this.stDuration,
            onStart: this.startElement,
            onStartParams: [e],
            onComplete: this.completeElement,
            onCompleteParams: [e],
          }
        )
      }
    },
    startElement(e) {
      this.elAnimate[e] = false
    },
    completeElement(e) {
      this.elAnimate[e] = true
    },
    completeState() {
      this.elAnimate = {
        t4: true,
        t3: true,
        t2: true,
        t1: true,
      }
    },
  },
}
</script>

<style>
.cls-1 {
  fill: url(#linear-gradient);
}

.cls-2 {
  fill: url(#linear-gradient-2);
}

.cls-3 {
  fill: url(#linear-gradient-3);
}

.cls-4 {
  fill: url(#linear-gradient-4);
}

.cls-5 {
  fill: url(#linear-gradient-5);
}

.cls-6 {
  fill: url(#linear-gradient-6);
}

.cls-7 {
  fill: url(#linear-gradient-7);
}

.cls-8 {
  fill: url(#linear-gradient-8);
}

.cls-9 {
  fill: url(#linear-gradient-9);
}

.cls-10 {
  fill: url(#linear-gradient-10);
}

.cls-11 {
  fill: url(#linear-gradient-11);
}

.cls-12 {
  fill: url(#linear-gradient-12);
}

.cls-13 {
  fill: url(#linear-gradient-13);
}

.cls-14 {
  fill: url(#linear-gradient-14);
}

.cls-15 {
  fill: url(#linear-gradient-15);
}

.cls-16 {
  fill: url(#linear-gradient-16);
}

.cls-17 {
  fill: url(#linear-gradient-17);
}

.cls-18 {
  fill: url(#linear-gradient-18);
}

.cls-19 {
  fill: url(#linear-gradient-19);
}
</style>
